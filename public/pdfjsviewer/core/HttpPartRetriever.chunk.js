/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{366:function(Ca,ua,x){x.r(ua);x.d(ua,"ByteRangeRequest",function(){return y});var pa=x(2),la=x(0);x.n(la);var ka=x(1),ha=x(127);Ca=x(80);var da=x(207),z=x(62),r=x(58),w=x(206),h=x(139);x=x(302);var a=[],b=[],e=window,n=function(){return function(){this.ck=1}}(),f;(function(aa){aa[aa.UNSENT=0]="UNSENT";aa[aa.DONE=4]="DONE"})(f||(f={}));var y=function(){function aa(ia,ca,ea,fa){var ja=this;this.url=ia;this.range=ca;this.me=ea;
this.withCredentials=fa;this.NU=f;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);e.Uint8Array&&(this.request.responseType="arraybuffer");fa&&(this.request.withCredentials=fa);ba.DISABLE_RANGE_HEADER||(Object(la.isUndefined)(ca.stop)?this.request.setRequestHeader("Range","bytes="+ca.start):this.request.setRequestHeader("Range",["bytes=",ca.start,"-",ca.stop-1].join("")));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");ea&&Object.keys(ea).forEach(function(na){ja.request.setRequestHeader(na,
ea[na])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=w.a.NOT_STARTED}aa.prototype.start=function(ia){var ca=this,ea=this.request;ea.onreadystatechange=function(){if(ca.aborted)return ca.status=w.a.ABORTED,ia({code:w.a.ABORTED});if(this.readyState===ca.NU.DONE){ca.ny();var fa=0===window.document.URL.indexOf("file:///");200===ea.status||206===ea.status||fa&&0===ea.status?
(fa=e.BM(this),ca.SG(fa,ia)):(ca.status=w.a.ERROR,ia({code:ca.status,status:ca.status}))}};this.request.send(null);this.status=w.a.STARTED};aa.prototype.SG=function(ia,ca){this.status=w.a.SUCCESS;if(ca)return ca(!1,ia)};aa.prototype.abort=function(){this.ny();this.aborted=!0;this.request.abort()};aa.prototype.ny=function(){var ia=Object(h.c)(this.url,this.range,b);-1!==ia&&b.splice(ia,1);if(0<a.length){ia=a.shift();var ca=new aa(ia.url,ia.range,this.me,this.withCredentials);ia.request=ca;b.push(ia);
ca.start(Object(h.d)(ia))}};aa.prototype.extend=function(ia){var ca=Object.assign({},this,ia.prototype);ca.constructor=ia;return ca};return aa}(),ba=function(aa){function ia(ca,ea,fa,ja,na){fa=aa.call(this,ca,fa,ja)||this;fa.ek={};fa.Tw=ea;fa.url=ca;fa.DISABLE_RANGE_HEADER=!1;fa.iu=y;fa.EH=3;fa.me=na||{};return fa}Object(pa.c)(ia,aa);ia.prototype.os=function(ca,ea,fa){var ja=-1===ca.indexOf("?")?"?":"&";switch(fa){case !1:case r.a.NEVER_CACHE:ca=ca+ja+"_="+Object(la.uniqueId)();break;case !0:case r.a.CACHE:ca=
ca+ja+"_="+ea.start+","+(Object(la.isUndefined)(ea.stop)?"":ea.stop)}return ca};ia.prototype.PK=function(ca,ea,fa,ja){void 0===fa&&(fa={});return new this.iu(ca,ea,fa,ja)};ia.prototype.V_=function(ca,ea,fa,ja,na){for(var ma=0;ma<a.length;ma++)if(Object(la.isEqual)(a[ma].range,ea)&&Object(la.isEqual)(a[ma].url,ca))return a[ma].zf.push(ja),a[ma].fz++,null;for(ma=0;ma<b.length;ma++)if(Object(la.isEqual)(b[ma].range,ea)&&Object(la.isEqual)(b[ma].url,ca))return b[ma].zf.push(ja),b[ma].fz++,null;fa={url:ca,
range:ea,Tw:fa,zf:[ja],fz:1};if(0===a.length&&b.length<this.EH)return b.push(fa),fa.request=this.PK(ca,ea,na,this.withCredentials),fa;a.push(fa);return null};ia.prototype.Al=function(ca,ea,fa){var ja=this.os(ca,ea,this.Tw);(ca=this.V_(ja,ea,this.Tw,fa,this.me))&&ca.request.start(Object(h.d)(ca));return function(){var na=Object(h.c)(ja,ea,b);if(-1!==na){var ma=--b[na].fz;0===ma&&b[na].request&&b[na].request.abort()}else na=Object(h.c)(ja,ea,a),-1!==na&&(ma=--a[na].fz,0===ma&&a.splice(na,1))}};ia.prototype.jM=
function(){return{start:-ha.a}};ia.prototype.h3=function(){var ca=-(ha.a+ha.e);return{start:ca-ha.d,end:ca}};ia.prototype.cq=function(ca){var ea=this;this.$w=!0;var fa=ha.a;this.Al(this.url,this.jM(),function(ja,na,ma){function qa(){var ra=ea.cd.fM();ea.Al(ea.url,ra,function(ta,va){if(ta)return Object(ka.j)("Error loading central directory: "+ta),ca(ta);va=Object(z.a)(va);if(va.length!==ra.stop-ra.start)return ca("Invalid XOD file: Zip central directory data is wrong size! Should be "+(ra.stop-ra.start)+
" but is "+va.length);ea.cd.yP(va);ea.xC=!0;ea.$w=!1;return ca(!1)})}if(ja)return Object(ka.j)("Error loading end header: "+ja),ca(ja,na,ma);na=Object(z.a)(na);if(na.length!==fa)return ca("Invalid XOD file: Zip end header data is wrong size!");try{ea.cd=new da.a(na)}catch(ra){return ca(ra)}ea.cd.N4?ea.Al(ea.url,ea.h3(),function(ra,ta){if(ra)return Object(ka.j)("Error loading zip64 header: "+ra),ca(ra);ta=Object(z.a)(ta);ea.cd.d5(ta);qa()}):qa()})};ia.prototype.zM=function(ca){ca(Object.keys(this.cd.fl))};
ia.prototype.JF=function(ca,ea){var fa=this;if(this.cd.JK(ca)){var ja=this.cd.gy(ca);if(ja in this.ek){var na=this.Ag[ca];na.Zo=this.ek[ja];na.Zo.ck++;na.cancel=na.Zo.cancel}else{var ma=this.cd.z1(ca),qa=this.Al(this.url,ma,function(ta,va){ta?(Object(ka.j)('Error loading part "'+ca+'": '+ta),fa.Al(fa.url,ma,function(sa,Da){if(sa)return ea(sa,ca);fa.CP(Da,ma,ja,ca,ea)})):fa.CP(va,ma,ja,ca,ea)}),ra=this.Ag[ca];ra&&(ra.wR=!0,ra.cancel=function(){ra.Zo.ck--;0===ra.Zo.ck&&(qa(),delete fa.ek[ja])},this.ek[ja]=
new n(ja),ra.Zo=this.ek[ja],ra.Zo.cancel=ra.cancel)}}else delete this.Ag[ca],ea(Error('File not found: "'+ca+'"'),ca)};ia.prototype.CP=function(ca,ea,fa,ja,na){if(ca.length!==ea.stop-ea.start)na(Error("Part data is wrong size!"),ja);else{do{if(!this.ek[fa])return;ja=this.ek[fa].ck;for(var ma=ea.Rn.length,qa=0;qa<ma;++qa){var ra=ea.Rn[qa];na(!1,ra.On,ca["string"===typeof ca?"substring":"subarray"](ra.start,ra.stop),this.cd.vN(ra.On));ra.On in this.Ag&&delete this.Ag[ra.On]}}while(ja!==this.ek[fa].ck);
delete this.ek[fa]}};ia.DISABLE_RANGE_HEADER=!1;ia.EH=3;return ia}(Ca.a);(function(aa){function ia(ca,ea,fa){var ja=aa.call(this)||this,na;for(na in ca)ja[na]=ca[na];ja.bga=ca;ja.startOffset=ea;ja.endOffset=fa;ja.PK=function(ma,qa,ra,ta){Object(la.isUndefined)(qa.stop)?(qa.start+=ja.endOffset,qa.stop=ja.endOffset):(qa.start+=ja.startOffset,qa.stop+=ja.startOffset);ma=ja.os(ja.url,qa,ja.Tw);return new ca.iu(ma,qa,ra,ta)};return ja}Object(pa.c)(ia,aa);return ia})(ba);Object(x.a)(ba);Object(x.b)(ba);
ua["default"]=ba}}]);}).call(this || window)
